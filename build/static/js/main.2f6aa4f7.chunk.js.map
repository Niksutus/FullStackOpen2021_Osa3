{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/SpecificPerson.js","components/Persons.js","components/Notification.js","components/ErrorMessage.js","services/personsService.js","App.js","index.js"],"names":["Filter","props","onChange","event","handleFilterChange","target","value","PersonForm","onSubmit","preventDefault","addPerson","handleNameChange","newName","handleNumberChange","newNumber","type","SpecificPerson","name","number","filter","deletePerson","id","toLowerCase","indexOf","onClick","Persons","persons","map","person","Notification","message","className","ErrorMessage","baseUrl","axios","get","then","response","data","newObject","post","delete","changedPerson","put","App","useState","setPersons","setNewName","setNewNumber","setFilter","notification","setNotification","errorMessage","setErrorMessage","useEffect","personsService","initialPersons","nameArray","e","personObject","toLocaleLowerCase","window","confirm","find","n","returnedPerson","console","log","a","setTimeout","catch","error","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2f6aa4f7.chunk.js","sourcesContent":["import React from 'react';\n\n\nconst Filter = ( props) => {\n    \n    const handleFilterChange = (event) => {\n        props.handleFilterChange(event.target.value)\n    }\n\n    return (\n        <>\n            <div>\n                filter shown with: <input onChange={handleFilterChange}/>\n            </div>\n        </>\n    )\n}\n\nexport default Filter","import React from 'react';\n\nconst PersonForm = (props) => {\n\n    const addPerson = (event) => {\n        event.preventDefault();\n        props.addPerson()\n    }\n\n    const handleNameChange = (event) => {\n        props.handleNameChange(event.target.value)\n    }\n\n    const handleNumberChange = (event) => {\n        props.handleNumberChange(event.target.value)\n    }\n\n\n    return (\n        <div>\n            <form onSubmit = {addPerson}>\n                <div>\n                name: <input onChange={handleNameChange} value= {props.newName}/>\n                </div>\n                <div>number: <input onChange={handleNumberChange} value={props.newNumber}/></div>\n                <div>\n                <button type=\"submit\">add</button>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default PersonForm","import React from 'react';\n\nconst SpecificPerson = ( { name, number, filter, deletePerson, id} ) => {\n    \n    const deleteButtonClick = () => {\n        deletePerson(id, name)\n    }\n\n    if(name.toLowerCase().indexOf(filter.toLowerCase()) !== -1) {\n\n        return (\n            <>\n                <p>\n                    {name} {number} <button onClick={deleteButtonClick}>delete</button>\n                </p>\n            </>\n        )\n    }\n\n    return (\n        <>\n        </>\n    )\n\n}\n\nexport default SpecificPerson","import React from 'react';\nimport SpecificPerson from './SpecificPerson'\n\nconst Persons = ({ persons, filter, deletePerson }) => {\n\n    return (\n        <>\n            {persons.map(person => \n                <SpecificPerson key={person.id} id={person.id} name={person.name} number={person.number} filter={filter} deletePerson = {deletePerson}/>\n            )}\n        </>\n    )\n}\n\nexport default Persons","import React from 'react'\n\nconst Notification = ({ message }) => {\n    \n    if(message === null ){\n        return null\n    }\n    \n    return (\n        <div className=\"notification\">\n            {message}\n        </div>\n    )\n}\n\nexport default Notification;\n","import React from 'react';\n\nconst ErrorMessage = ({ message }) => {\n    \n    if(message === null){\n        return null\n    }\n    \n    return(\n        <div className=\"errorMessage\">\n            {message}\n        </div>\n    )\n}\n\nexport default ErrorMessage;","import axios from 'axios'\nconst baseUrl = '/api/persons/'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => {\n        return response.data\n    })\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst deletePerson = (id) => {\n    axios.delete(baseUrl+id)\n}\n\nconst edit = (id, changedPerson) => {\n    const request = axios.put(baseUrl+id, changedPerson)\n    return request.then(response => response.data)\n}\n\nexport default {getAll, create, deletePerson, edit}","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport ErrorMessage from './components/ErrorMessage'\nimport personsService from './services/personsService'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filter, setFilter ] = useState('')\n  const [ notification, setNotification ] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    personsService\n    .getAll()\n    .then(initialPersons => {\n      setPersons(initialPersons)\n    })\n  }, [])\n\n  \n  const nameArray = persons.map(person => person.name.toLowerCase())\n\n  const addPerson = () => {\n    const personObject = {\n      name: newName,\n      number: newNumber,\n    }\n\n    if(nameArray.indexOf(newName.toLocaleLowerCase()) !== -1){\n        if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)){\n          const person = persons.find(n => n.name.toLowerCase() === newName.toLowerCase())\n          const changedPerson = {...person, number: newNumber};\n          personsService\n            .edit(person.id, changedPerson)\n            .then(returnedPerson => {\n              console.log(returnedPerson)\n              setPersons(persons.map(a => a.id !== person.id ? a : returnedPerson))\n              setNotification(`Phone number of ${newName} has been changed succesfully`);\n              setNewName('');\n              setNewNumber('');\n              setTimeout(() => {\n                setNotification(null)\n              }, 5000)\n            })\n            .catch(error => {\n              setErrorMessage(`Information of ${changedPerson.name} has already been removed from server`)\n              setPersons(persons.filter(person => person.id !== changedPerson.id));\n              setNewName('');\n              setNewNumber('');\n              setTimeout(()=> {\n                setErrorMessage(null)\n              }, 5000)\n            })\n        }\n    } else {\n      personsService\n      .create(personObject)\n      .then(response => {\n        setPersons(persons.concat(response))\n        setNotification(`${newName} has been added successfully`)\n        setNewName('')\n        setNewNumber('')\n        setTimeout(() => {\n          setNotification(null)\n        }, 5000)\n      })\n      .catch(error => {\n        console.log(error.response.data)\n        setErrorMessage(error.response.data)\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000);\n      })\n    }\n  }\n\n  const deletePerson = (id, name) => {\n\n    if (window.confirm(`Delete ${name}?`)) {\n      personsService.deletePerson(id);\n      setPersons(persons.filter(n => n.id !== id))\n      setNotification(`${name} has been deleted succesfully`)\n      setTimeout(() => {\n        setNotification(null)\n      }, 5000)\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event);\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event);\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event)\n  }\n\n \n  return (\n    <div>\n      <h2>Phonebook</h2>\n      \n      <ErrorMessage message={errorMessage}/>\n      <Notification message={notification}/>\n\n      <Filter handleFilterChange = {(e)=>handleFilterChange(e)}/>\n        \n      <h2>add a new</h2>\n      <PersonForm addPerson ={addPerson} handleNameChange = {(e) => {handleNameChange(e)}} handleNumberChange = {(e)=>{handleNumberChange(e)}} newName = {newName} newNumber = {newNumber}/>\n\n      <h2>Numbers</h2>\n      <Persons persons={persons} filter={filter} deletePerson={deletePerson}/>\n    </div>\n  )\n\n}\n\nexport default App;\n","import ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)"],"sourceRoot":""}